{"ast":null,"code":"import _regeneratorRuntime from\"D:/Webprog/proj-cah/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Webprog/proj-cah/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Webprog/proj-cah/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./PlayAnimation.css';import axios from'axios';import config from'./config.json';import{jsx as _jsx}from\"react/jsx-runtime\";function PlayAnimation(props){// Deklaration der benötigten Zustände und Variablen\nvar pData=props.playerData;// Spielerdaten\nvar gameid=props.gId;// Spiel-ID\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];// Zustand für den anzuzeigenden Text\n// Effekt-Hook, der beim Komponentenladen aufgerufen wird\nuseEffect(function(){get_winner();},[]);// Funktion zum Abrufen des Gewinners vom Server\nfunction get_winner(){axios.get(config.preUrl+'games/').then(function(response){show_winner(response.data.games);});}// Funktion zur Anzeige des Gewinners oder Verlierers\nfunction show_winner(games){for(var i=0;i<games.length;i++){if(games[i].id==gameid){if(games[i].winner.id==pData.id){setText('GEWINNER');back_to_main();}else{setText('VERLIERER');back_to_main();}}}// Funktion zur Verzögerung des Seitenneustarts\nfunction timeout(delay){return new Promise(function(res){return setTimeout(res,delay);});}// Funktion zum Zurückkehren zum Hauptbildschirm nach einer Verzögerung\nfunction back_to_main(){return _back_to_main.apply(this,arguments);}function _back_to_main(){_back_to_main=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return timeout(7000);case 2:// Warten für 7 Sekunden\nwindow.location.reload(true);// Seite neu laden\ncase 3:case\"end\":return _context.stop();}}},_callee);}));return _back_to_main.apply(this,arguments);}}// Anzeige des Gewinner- oder Verlierertexts in einer HTML-Struktur\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"label\",{className:\"fancy-label\",children:text})});}export default PlayAnimation;","map":{"version":3,"names":["React","useState","useEffect","axios","config","PlayAnimation","props","pData","playerData","gameid","gId","text","setText","get_winner","get","preUrl","then","response","show_winner","data","games","i","length","id","winner","back_to_main","timeout","delay","Promise","res","setTimeout","window","location","reload"],"sources":["D:/Webprog/proj-cah/src/PlayAnimation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './PlayAnimation.css';\r\nimport axios from 'axios';\r\nimport config from './config.json';\r\n\r\nfunction PlayAnimation(props) {\r\n  // Deklaration der benötigten Zustände und Variablen\r\n  const pData = props.playerData // Spielerdaten\r\n  const gameid = props.gId // Spiel-ID\r\n\r\n  const [text,setText] = useState('') // Zustand für den anzuzeigenden Text\r\n\r\n  // Effekt-Hook, der beim Komponentenladen aufgerufen wird\r\n  useEffect(() => {\r\n    get_winner();\r\n  }, []);\r\n\r\n  // Funktion zum Abrufen des Gewinners vom Server\r\n  function get_winner(){\r\n    axios.get(config.preUrl + 'games/').then(response => {\r\n      show_winner(response.data.games)\r\n  });\r\n  }\r\n\r\n  // Funktion zur Anzeige des Gewinners oder Verlierers\r\n  function show_winner(games){\r\n    for(let i=0;i<games.length;i++){\r\n      if (games[i].id == gameid){\r\n          if(games[i].winner.id == pData.id){\r\n            setText('GEWINNER') \r\n            back_to_main() \r\n          }\r\n          else{\r\n            setText('VERLIERER') \r\n            back_to_main() \r\n          }   \r\n      }\r\n  } \r\n\r\n  // Funktion zur Verzögerung des Seitenneustarts\r\n  function timeout(delay) {\r\n    return new Promise( res => setTimeout(res, delay) );\r\n  }\r\n\r\n  // Funktion zum Zurückkehren zum Hauptbildschirm nach einer Verzögerung\r\n  async function back_to_main(){\r\n    await timeout(7000) // Warten für 7 Sekunden\r\n    window.location.reload(true); // Seite neu laden\r\n  }\r\n  }\r\n\r\n  // Anzeige des Gewinner- oder Verlierertexts in einer HTML-Struktur\r\n  return (\r\n    <div className=\"container\">\r\n      <label className=\"fancy-label\">{text}</label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlayAnimation\r\n"],"mappings":"2UAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,qBAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,eAAnB,C,2CAEA,QAASC,cAAT,CAAuBC,KAAvB,CAA8B,CAC5B;AACA,GAAMC,MAAK,CAAGD,KAAK,CAACE,UAApB,CAA+B;AAC/B,GAAMC,OAAM,CAAGH,KAAK,CAACI,GAArB,CAAyB;AAEzB,cAAuBT,QAAQ,CAAC,EAAD,CAA/B,wCAAOU,IAAP,eAAYC,OAAZ,eAAoC;AAEpC;AACAV,SAAS,CAAC,UAAM,CACdW,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,QAASA,WAAT,EAAqB,CACnBV,KAAK,CAACW,GAAN,CAAUV,MAAM,CAACW,MAAP,CAAgB,QAA1B,EAAoCC,IAApC,CAAyC,SAAAC,QAAQ,CAAI,CACnDC,WAAW,CAACD,QAAQ,CAACE,IAAT,CAAcC,KAAf,CAAX,CACH,CAFC,EAGD,CAED;AACA,QAASF,YAAT,CAAqBE,KAArB,CAA2B,CACzB,IAAI,GAAIC,EAAC,CAAC,CAAV,CAAYA,CAAC,CAACD,KAAK,CAACE,MAApB,CAA2BD,CAAC,EAA5B,CAA+B,CAC7B,GAAID,KAAK,CAACC,CAAD,CAAL,CAASE,EAAT,EAAed,MAAnB,CAA0B,CACtB,GAAGW,KAAK,CAACC,CAAD,CAAL,CAASG,MAAT,CAAgBD,EAAhB,EAAsBhB,KAAK,CAACgB,EAA/B,CAAkC,CAChCX,OAAO,CAAC,UAAD,CAAP,CACAa,YAAY,GACb,CAHD,IAII,CACFb,OAAO,CAAC,WAAD,CAAP,CACAa,YAAY,GACb,CACJ,CACJ,CAED;AACA,QAASC,QAAT,CAAiBC,KAAjB,CAAwB,CACtB,MAAO,IAAIC,QAAJ,CAAa,SAAAC,GAAG,QAAIC,WAAU,CAACD,GAAD,CAAMF,KAAN,CAAd,EAAhB,CAAP,CACD,CAED;AAnB2B,QAoBZF,aApBY,gJAoB3B,2JACQC,QAAO,CAAC,IAAD,CADf,QACsB;AACpBK,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAA8B;AAFhC,sDApB2B,+CAwB1B,CAED;AACA,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,cAAO,SAAS,CAAC,aAAjB,UAAgCtB,IAAhC,EADF,EADF,CAKD,CAED,cAAeN,cAAf"},"metadata":{},"sourceType":"module"}