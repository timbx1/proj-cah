{"ast":null,"code":"import _regeneratorRuntime from\"D:/Webprog/proj-cah/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Webprog/proj-cah/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Webprog/proj-cah/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Pack from'./Pack';import axios from'axios';import config from'./config.json';import'./Game.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Game(props){// Zustandsvariable, um Details anzuzeigen oder auszublenden\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),detailsShown=_useState2[0],setDetailsShown=_useState2[1];// Extrahieren von Props in lokale Variablen\nvar id=props.gId;var player_data=props.playerData;var owner=props.owner;var goal=props.goal;// Zustandsvariable für die Anzeige von Packs (anfangs auf false gesetzt)\nvar showPacks=false;// Arrays für Packs und Spieler\nvar packsArr=props.packs;var packs;var playerArr=props.player;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),player=_useState4[0],setPlayer=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),details=_useState6[0],setDetails=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),player_label=_useState8[0],setPlayerLabel=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),joinGameBtn=_useState10[0],setJoinGameBtn=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),packDiv=_useState12[0],setPackDiv=_useState12[1];// Funktion zum Abrufen von Packs über Axios\nfunction getPacks(){return _getPacks.apply(this,arguments);}// Funktion zum Erstellen von Pack-Komponenten\nfunction _getPacks(){_getPacks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(config.preUrl+'packs/').then(function(response){createPacks(response.data.packs);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error('Fehler beim Abrufen der Packs:',_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return _getPacks.apply(this,arguments);}function createPacks(pacArr){var mapPacs=[];console.log(packsArr);for(var i=0;i<pacArr.length;i++){for(var j=0;j<packsArr.length;j++){if(pacArr[i].id===packsArr[j]){mapPacs.push(pacArr[i]);}}}console.log(mapPacs);var pList=mapPacs.map(function(eintrag){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\" \"}),/*#__PURE__*/_jsx(Pack,{packName:eintrag.name,packId:eintrag.id,bcCount:eintrag.blackCardCount,wcCount:eintrag.whiteCardCount})]},eintrag.id);});console.log(pList);packs=/*#__PURE__*/_jsx(\"div\",{className:\"popup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-body\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"PACKS:\"}),pList,/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleShowPacks,children:\"Close X\"})})]})});}// Funktion zum Erstellen von Spielerkomponenten\nfunction createPlayer(){var pList=[];pList.push(playerArr.map(function(eintrag){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\" \"}),/*#__PURE__*/_jsx(\"p\",{children:eintrag.name})]},eintrag.id);}));setPlayer(pList);}// Funktion zum Behandeln des \"Join Game\" -Buttons\nfunction handleJoinGameBtn(id,player_data){props.joinGame(id,player_data);}// Funktion zum Anzeigen/Verbergen von Packs\nfunction handleShowPacks(){if(!showPacks){console.log(showPacks);setPackDiv(packs);showPacks=true;}else{console.log(showPacks);setPackDiv(null);showPacks=false;}}// Funktion zum Behandeln des \"Details\" -Buttons\nfunction handleDetails(){if(detailsShown){getPacks();createPlayer();setDetailsShown(false);setDetails(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",id]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Owner: \",owner.name]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Goal: \",goal,\" Points\"]}),/*#__PURE__*/_jsx(\"p\",{})]}));setPlayerLabel('Players:');setJoinGameBtn(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleShowPacks,children:\"Show/Hide Packs\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleJoinGameBtn(id,player_data);},children:\"JOIN GAME\"})]}));}else{setDetailsShown(true);setPlayer('');setDetails(/*#__PURE__*/_jsx(\"div\",{}));setPlayerLabel('');setJoinGameBtn('');}}return/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDetails,children:\"Details\"}),/*#__PURE__*/_jsx(\"div\",{children:details}),/*#__PURE__*/_jsxs(\"div\",{className:\"preplayers\",children:[/*#__PURE__*/_jsx(\"div\",{children:player_label}),/*#__PURE__*/_jsx(\"div\",{children:player})]}),/*#__PURE__*/_jsx(\"div\",{children:joinGameBtn}),/*#__PURE__*/_jsx(\"div\",{className:\"packs-component\",children:packDiv})]});}export default Game;","map":{"version":3,"names":["React","useState","Pack","axios","config","Game","props","detailsShown","setDetailsShown","id","gId","player_data","playerData","owner","goal","showPacks","packsArr","packs","playerArr","player","setPlayer","details","setDetails","player_label","setPlayerLabel","joinGameBtn","setJoinGameBtn","packDiv","setPackDiv","getPacks","get","preUrl","then","response","createPacks","data","console","error","pacArr","mapPacs","log","i","length","j","push","pList","map","eintrag","name","blackCardCount","whiteCardCount","handleShowPacks","createPlayer","handleJoinGameBtn","joinGame","handleDetails"],"sources":["D:/Webprog/proj-cah/src/Game.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Pack from './Pack';\r\nimport axios from 'axios';\r\nimport config from './config.json';\r\nimport './Game.css';\r\n\r\nfunction Game(props) {\r\n\r\n    // Zustandsvariable, um Details anzuzeigen oder auszublenden\r\n    const [detailsShown, setDetailsShown] = useState(true);\r\n\r\n    // Extrahieren von Props in lokale Variablen\r\n    const id = props.gId;\r\n    const player_data = props.playerData;\r\n    const owner = props.owner;\r\n    const goal = props.goal;\r\n\r\n    // Zustandsvariable für die Anzeige von Packs (anfangs auf false gesetzt)\r\n    let showPacks = false;\r\n\r\n    // Arrays für Packs und Spieler\r\n    const packsArr = props.packs;\r\n    let packs;\r\n\r\n    const playerArr = props.player;\r\n    const [player, setPlayer] = useState(null);\r\n\r\n    const [details, setDetails] = useState(null);\r\n\r\n    const [player_label, setPlayerLabel] = useState('');\r\n\r\n    const [joinGameBtn, setJoinGameBtn] = useState(null);\r\n\r\n    const [packDiv, setPackDiv] = useState(null);\r\n\r\n    // Funktion zum Abrufen von Packs über Axios\r\n    async function getPacks() {\r\n        try {\r\n            await axios.get(config.preUrl + 'packs/').then(response => {\r\n                createPacks(response.data.packs);\r\n            });\r\n        } catch (error) {\r\n            console.error('Fehler beim Abrufen der Packs:', error);\r\n        }\r\n    }\r\n\r\n    // Funktion zum Erstellen von Pack-Komponenten\r\n    function createPacks(pacArr) {\r\n        let mapPacs = [];\r\n        console.log(packsArr);\r\n        for (let i = 0; i < pacArr.length; i++) {\r\n            for (let j = 0; j < packsArr.length; j++) {\r\n                if (pacArr[i].id === packsArr[j]) {\r\n                    mapPacs.push(pacArr[i]);\r\n                }\r\n            }\r\n        }\r\n        console.log(mapPacs);\r\n        const pList = mapPacs.map((eintrag) => (\r\n            <div key={eintrag.id}>\r\n                <p> </p>\r\n                <Pack\r\n                    packName={eintrag.name}\r\n                    packId={eintrag.id}\r\n                    bcCount={eintrag.blackCardCount}\r\n                    wcCount={eintrag.whiteCardCount}\r\n                />\r\n            </div>\r\n        ));\r\n        console.log(pList);\r\n        packs = (\r\n            <div className=\"popup-container\">\r\n                <div className=\"popup-body\">\r\n                    <h1>PACKS:</h1>\r\n                    {pList}\r\n                    <div className=\"button-container\">\r\n                        <button className=\"button\" onClick={handleShowPacks}>Close X</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Funktion zum Erstellen von Spielerkomponenten\r\n    function createPlayer() {\r\n        let pList = [];\r\n        pList.push(playerArr.map((eintrag) => (\r\n            <div key={eintrag.id}>\r\n                <p> </p>\r\n                <p>{eintrag.name}</p>\r\n            </div>\r\n        )));\r\n        setPlayer(pList);\r\n    }\r\n\r\n    // Funktion zum Behandeln des \"Join Game\" -Buttons\r\n    function handleJoinGameBtn(id, player_data) {\r\n        props.joinGame(id, player_data);\r\n    }\r\n\r\n    // Funktion zum Anzeigen/Verbergen von Packs\r\n    function handleShowPacks() {\r\n        if (!showPacks) {\r\n            console.log(showPacks);\r\n            setPackDiv(packs);\r\n            showPacks = true;\r\n        } else {\r\n            console.log(showPacks);\r\n            setPackDiv(null);\r\n            showPacks = false;\r\n        }\r\n    }\r\n\r\n    // Funktion zum Behandeln des \"Details\" -Buttons\r\n    function handleDetails() {\r\n        if (detailsShown) {\r\n            getPacks();\r\n            createPlayer();\r\n            setDetailsShown(false);\r\n            setDetails(\r\n                <div>\r\n                    <p>ID: {id}</p>\r\n                    <p></p>\r\n                    <p>Owner: {owner.name}</p>\r\n                    <p></p>\r\n                    <p>Goal: {goal} Points</p>\r\n                    <p></p>\r\n                </div>\r\n            );\r\n            setPlayerLabel('Players:');\r\n            setJoinGameBtn(\r\n                <div>\r\n                    <button onClick={handleShowPacks}>Show/Hide Packs</button>\r\n                    <button onClick={() => handleJoinGameBtn(id, player_data)}>JOIN GAME</button>\r\n                </div>\r\n            );\r\n        } else {\r\n            setDetailsShown(true);\r\n            setPlayer('');\r\n            setDetails(\r\n                <div></div>\r\n            );\r\n            setPlayerLabel('');\r\n            setJoinGameBtn('');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='body'>\r\n            <button onClick={handleDetails}>Details</button>\r\n            <div>{details}</div>\r\n\r\n            <div className='preplayers'>\r\n                <div>{player_label}</div>\r\n                <div>{player}</div>\r\n            </div>\r\n\r\n            <div>{joinGameBtn}</div>\r\n            <div className='packs-component'>{packDiv}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Game;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}