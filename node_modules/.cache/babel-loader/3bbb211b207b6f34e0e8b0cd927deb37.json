{"ast":null,"code":"var _jsxFileName = \"D:\\\\Webprog\\\\proj-cah\\\\src\\\\Game.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react'; // Importieren Sie useEffect für asynchrone Datenabrufe\n\nimport Pack from './Pack';\nimport axios from 'axios';\nimport config from './config.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Game(props) {\n  _s();\n\n  const [detailsShown, setDetailsShown] = useState(true);\n  const id = props.gId;\n  const player_data = props.playerData;\n  const owner = props.owner;\n  const goal = props.goal;\n  const packsArr = props.packs;\n  const [packs, setPacks] = useState([]);\n  const playerArr = props.player;\n  const [player, setPlayer] = useState([]);\n  const [details, setDetails] = useState(null); // Starten Sie mit null\n\n  const [player_label, setPlayerLabel] = useState('');\n  const [joinGameBtn, setJoinGameBtn] = useState(null);\n  useEffect(() => {\n    // Verwenden Sie useEffect für asynchrone Datenabrufe, um Fehler besser zu behandeln\n    async function fetchData() {\n      let pacArr = [];\n\n      for (let i = 0; i < packsArr.length; i++) {\n        try {\n          const response = await axios.get(config.preUrl + 'packs/' + packsArr[i]);\n          pacArr.push(response.data); // Fügen Sie response.data hinzu, um auf die Antwortdaten zuzugreifen\n        } catch (error) {\n          console.error('Fehler beim Laden von Packs:', error); // Hier können Sie auf API-Fehler reagieren, z.B. eine Meldung anzeigen\n        }\n      }\n\n      createPacks(pacArr);\n    }\n\n    if (detailsShown) {\n      fetchData(); // Rufen Sie die Funktion fetchData auf, wenn detailsShown wahr ist\n\n      createPlayer();\n    }\n  }, [detailsShown, packsArr]);\n\n  function createPacks(pacArr) {\n    let pList = pacArr.map(eintrag => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: eintrag.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Pack, {\n        packName: eintrag.name,\n        packId: eintrag.id,\n        bcCount: eintrag.blackCardCount,\n        wcCount: eintrag.whiteCardCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, eintrag.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this));\n    setPacks(pList);\n  }\n\n  function createPlayer() {\n    let pList = playerArr.map(eintrag => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: eintrag.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, eintrag.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this));\n    setPlayer(pList);\n  }\n\n  function handleJoinGameBtn(id, player_data) {\n    console.log(player_data);\n    props.joinGame(id, player_data);\n  }\n\n  function handleDetails() {\n    if (detailsShown) {\n      setDetailsShown(false);\n      setDetails( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"ID: \", id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"owner: \", owner.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Goal: \", goal, \" Points\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this));\n      setPlayerLabel('Players:');\n      setJoinGameBtn( /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleJoinGameBtn(id, player_data),\n        children: \"JOIN GAME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this));\n    } else {\n      setDetailsShown(true);\n      setPacks([]);\n      setPlayer([]);\n      setDetails(null); // Setzen Sie details auf null, um es zu löschen\n\n      setPlayerLabel('');\n      setJoinGameBtn(null); // Setzen Sie joinGameBtn auf null, um es zu löschen\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDetails,\n      children: \"Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: details\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: player_label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: player\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: joinGameBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: packs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Game, \"/aAFEChstT6tLB0L9Sgo9D2Ntyk=\");\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useState","useEffect","Pack","axios","config","Game","props","detailsShown","setDetailsShown","id","gId","player_data","playerData","owner","goal","packsArr","packs","setPacks","playerArr","player","setPlayer","details","setDetails","player_label","setPlayerLabel","joinGameBtn","setJoinGameBtn","fetchData","pacArr","i","length","response","get","preUrl","push","data","error","console","createPacks","createPlayer","pList","map","eintrag","name","blackCardCount","whiteCardCount","handleJoinGameBtn","log","joinGame","handleDetails"],"sources":["D:/Webprog/proj-cah/src/Game.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'; // Importieren Sie useEffect für asynchrone Datenabrufe\r\nimport Pack from './Pack';\r\nimport axios from 'axios';\r\nimport config from './config.json';\r\n\r\nfunction Game(props) {\r\n    const [detailsShown, setDetailsShown] = useState(true);\r\n    const id = props.gId;\r\n    const player_data = props.playerData;\r\n    const owner = props.owner;\r\n    const goal = props.goal;\r\n    const packsArr = props.packs;\r\n    const [packs, setPacks] = useState([]);\r\n    const playerArr = props.player;\r\n    const [player, setPlayer] = useState([]);\r\n    const [details, setDetails] = useState(null); // Starten Sie mit null\r\n    const [player_label, setPlayerLabel] = useState('');\r\n    const [joinGameBtn, setJoinGameBtn] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Verwenden Sie useEffect für asynchrone Datenabrufe, um Fehler besser zu behandeln\r\n        async function fetchData() {\r\n            let pacArr = [];\r\n            for (let i = 0; i < packsArr.length; i++) {\r\n                try {\r\n                    const response = await axios.get(config.preUrl + 'packs/' + packsArr[i]);\r\n                    pacArr.push(response.data); // Fügen Sie response.data hinzu, um auf die Antwortdaten zuzugreifen\r\n                } catch (error) {\r\n                    console.error('Fehler beim Laden von Packs:', error);\r\n                    // Hier können Sie auf API-Fehler reagieren, z.B. eine Meldung anzeigen\r\n                }\r\n            }\r\n            createPacks(pacArr);\r\n        }\r\n\r\n        if (detailsShown) {\r\n            fetchData(); // Rufen Sie die Funktion fetchData auf, wenn detailsShown wahr ist\r\n            createPlayer();\r\n        }\r\n    }, [detailsShown, packsArr]);\r\n\r\n    function createPacks(pacArr) {\r\n        let pList = pacArr.map((eintrag) => (\r\n            <div key={eintrag.id}>\r\n                <p>{eintrag.name}</p>\r\n                <Pack packName={eintrag.name} packId={eintrag.id} bcCount={eintrag.blackCardCount} wcCount={eintrag.whiteCardCount} />\r\n            </div>\r\n        ));\r\n        setPacks(pList);\r\n    }\r\n\r\n    function createPlayer() {\r\n        let pList = playerArr.map((eintrag) => (\r\n            <div key={eintrag.id}>\r\n                <p>{eintrag.name}</p>\r\n            </div>\r\n        ));\r\n        setPlayer(pList);\r\n    }\r\n\r\n    function handleJoinGameBtn(id, player_data) {\r\n        console.log(player_data);\r\n        props.joinGame(id, player_data);\r\n    }\r\n\r\n    function handleDetails() {\r\n        if (detailsShown) {\r\n            setDetailsShown(false);\r\n            setDetails(\r\n                <div>\r\n                    <p>ID: {id}</p>\r\n                    <p>owner: {owner.name}</p>\r\n                    <p>Goal: {goal} Points</p>\r\n                </div>\r\n            );\r\n            setPlayerLabel('Players:');\r\n            setJoinGameBtn(\r\n                <button onClick={() => handleJoinGameBtn(id, player_data)}>JOIN GAME</button>\r\n            );\r\n        } else {\r\n            setDetailsShown(true);\r\n            setPacks([]);\r\n            setPlayer([]);\r\n            setDetails(null); // Setzen Sie details auf null, um es zu löschen\r\n            setPlayerLabel('');\r\n            setJoinGameBtn(null); // Setzen Sie joinGameBtn auf null, um es zu löschen\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={handleDetails}>Details</button>\r\n            <div>{details}</div>\r\n            <div>{player_label}</div>\r\n            <div>{player}</div>\r\n            <div>{joinGameBtn}</div>\r\n            <div>{packs}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Game;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}