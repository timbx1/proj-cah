{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{useTimer}from'react-timer-hook';import{jsxs as _jsxs}from\"react/jsx-runtime\";function Timer(props){var _useTimer=useTimer({expiryTimestamp:props.expiryTimestamp}),seconds=_useTimer.seconds,minutes=_useTimer.minutes,restart=_useTimer.restart,expiryTimestamp=_useTimer.expiryTimestamp;var timerRef=useRef();useEffect(function(){timerRef.current=restart;// Store the restart function in a ref\n// When the component unmounts, clear the timer\nreturn function(){timerRef.current(null);};},[props.expiryTimestamp]);useEffect(function(){// When the timer expires, call the onExpire callback\nif(minutes===0&&seconds===0){props.onExpire();}},[minutes,seconds,props.onExpire]);return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[minutes<10?'0':'',minutes]}),\":\",/*#__PURE__*/_jsxs(\"span\",{children:[seconds<10?'0':'',seconds]})]});}export default Timer;","map":{"version":3,"names":["React","useEffect","useRef","useTimer","Timer","props","expiryTimestamp","seconds","minutes","restart","timerRef","current","onExpire","textAlign"],"sources":["D:/Webprog/proj-cah/src/Timer.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { useTimer } from 'react-timer-hook';\r\n\r\nfunction Timer(props) {\r\n  const {\r\n    seconds,\r\n    minutes,\r\n    restart,\r\n    expiryTimestamp,\r\n  } = useTimer({ expiryTimestamp: props.expiryTimestamp });\r\n\r\n  const timerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    timerRef.current = restart; // Store the restart function in a ref\r\n\r\n    // When the component unmounts, clear the timer\r\n    return () => {\r\n      timerRef.current(null);\r\n    };\r\n  }, [props.expiryTimestamp]);\r\n\r\n  useEffect(() => {\r\n    // When the timer expires, call the onExpire callback\r\n    if (minutes === 0 && seconds === 0) {\r\n      props.onExpire();\r\n    }\r\n  }, [minutes, seconds, props.onExpire]);\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <span>{minutes < 10 ? '0' : ''}{minutes}</span>:<span>{seconds < 10 ? '0' : ''}{seconds}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Timer;\r\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,6CAEA,QAASC,MAAT,CAAeC,KAAf,CAAsB,CACpB,cAKIF,QAAQ,CAAC,CAAEG,eAAe,CAAED,KAAK,CAACC,eAAzB,CAAD,CALZ,CACEC,OADF,WACEA,OADF,CAEEC,OAFF,WAEEA,OAFF,CAGEC,OAHF,WAGEA,OAHF,CAIEH,eAJF,WAIEA,eAJF,CAOA,GAAMI,SAAQ,CAAGR,MAAM,EAAvB,CAEAD,SAAS,CAAC,UAAM,CACdS,QAAQ,CAACC,OAAT,CAAmBF,OAAnB,CAA4B;AAE5B;AACA,MAAO,WAAM,CACXC,QAAQ,CAACC,OAAT,CAAiB,IAAjB,EACD,CAFD,CAGD,CAPQ,CAON,CAACN,KAAK,CAACC,eAAP,CAPM,CAAT,CASAL,SAAS,CAAC,UAAM,CACd;AACA,GAAIO,OAAO,GAAK,CAAZ,EAAiBD,OAAO,GAAK,CAAjC,CAAoC,CAClCF,KAAK,CAACO,QAAN,GACD,CACF,CALQ,CAKN,CAACJ,OAAD,CAAUD,OAAV,CAAmBF,KAAK,CAACO,QAAzB,CALM,CAAT,CAOA,mBACE,aAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAZ,wBACE,wBAAOL,OAAO,CAAG,EAAV,CAAe,GAAf,CAAqB,EAA5B,CAAgCA,OAAhC,GADF,kBACkD,wBAAOD,OAAO,CAAG,EAAV,CAAe,GAAf,CAAqB,EAA5B,CAAgCA,OAAhC,GADlD,GADF,CAKD,CAED,cAAeH,MAAf"},"metadata":{},"sourceType":"module"}