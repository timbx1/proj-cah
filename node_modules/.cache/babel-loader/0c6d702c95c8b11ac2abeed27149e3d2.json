{"ast":null,"code":"var _jsxFileName = \"D:\\\\Webprog\\\\proj-cah\\\\src\\\\PlayAnimation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './PlayAnimation.css';\nimport axios from 'axios';\nimport config from './config.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PlayAnimation(props) {\n  _s();\n\n  const pData = props.playerData;\n  const gameid = props.gId;\n  const [text, setText] = useState('');\n  useEffect(() => {\n    get_winner();\n  }, []);\n\n  function get_winner() {\n    axios.get(config.preUrl + 'games/').then(response => {\n      show_winner(response.data.games);\n    });\n  }\n\n  function show_winner(games) {\n    for (let i = 0; i < games.length; i++) {\n      if (games[i].id == gameid) {\n        if (games[i].winner.id == pData.id) {\n          setText('WINNER');\n          back_to_main();\n        } else {\n          setText('LOOSER');\n          back_to_main();\n        }\n      }\n    }\n\n    function timeout(delay) {\n      return new Promise(res => setTimeout(res, delay));\n    }\n\n    async function back_to_main() {\n      await timeout(7000);\n      props.changeUi(0, pData, gameid);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"fancy-label\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PlayAnimation, \"5yvyGKtTaKaUAQhdurZIg0uLsuM=\");\n\n_c = PlayAnimation;\nexport default PlayAnimation;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayAnimation\");","map":{"version":3,"names":["React","useState","useEffect","axios","config","PlayAnimation","props","pData","playerData","gameid","gId","text","setText","get_winner","get","preUrl","then","response","show_winner","data","games","i","length","id","winner","back_to_main","timeout","delay","Promise","res","setTimeout","changeUi"],"sources":["D:/Webprog/proj-cah/src/PlayAnimation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './PlayAnimation.css';\r\nimport axios from 'axios';\r\nimport config from './config.json';\r\n\r\nfunction PlayAnimation(props) {\r\n  const pData = props.playerData\r\n  const gameid = props.gId\r\n\r\n  const [text,setText] = useState('')\r\n\r\n  useEffect(() => {\r\n    get_winner();\r\n  }, []);\r\n  function get_winner(){\r\n    axios.get(config.preUrl + 'games/').then(response => {\r\n      show_winner(response.data.games)\r\n  });\r\n  }\r\n  function show_winner(games){\r\n    for(let i=0;i<games.length;i++){\r\n      if (games[i].id == gameid){\r\n          if(games[i].winner.id == pData.id){\r\n            setText('WINNER')\r\n            back_to_main()\r\n          }\r\n          else{\r\n            setText('LOOSER')\r\n            back_to_main()\r\n          }   \r\n      }\r\n  } \r\n\r\n  function timeout(delay) {\r\n    return new Promise( res => setTimeout(res, delay) );\r\n  }\r\n\r\n  async function back_to_main(){\r\n    await timeout(7000)\r\n    props.changeUi(0, pData, gameid)\r\n  }\r\n  }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n          <label className=\"fancy-label\">{text}</label>\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default PlayAnimation"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,qBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;EAAA;;EAC5B,MAAMC,KAAK,GAAGD,KAAK,CAACE,UAApB;EACA,MAAMC,MAAM,GAAGH,KAAK,CAACI,GAArB;EAEA,MAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBX,QAAQ,CAAC,EAAD,CAA/B;EAEAC,SAAS,CAAC,MAAM;IACdW,UAAU;EACX,CAFQ,EAEN,EAFM,CAAT;;EAGA,SAASA,UAAT,GAAqB;IACnBV,KAAK,CAACW,GAAN,CAAUV,MAAM,CAACW,MAAP,GAAgB,QAA1B,EAAoCC,IAApC,CAAyCC,QAAQ,IAAI;MACnDC,WAAW,CAACD,QAAQ,CAACE,IAAT,CAAcC,KAAf,CAAX;IACH,CAFC;EAGD;;EACD,SAASF,WAAT,CAAqBE,KAArB,EAA2B;IACzB,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,KAAK,CAACE,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;MAC7B,IAAID,KAAK,CAACC,CAAD,CAAL,CAASE,EAAT,IAAed,MAAnB,EAA0B;QACtB,IAAGW,KAAK,CAACC,CAAD,CAAL,CAASG,MAAT,CAAgBD,EAAhB,IAAsBhB,KAAK,CAACgB,EAA/B,EAAkC;UAChCX,OAAO,CAAC,QAAD,CAAP;UACAa,YAAY;QACb,CAHD,MAII;UACFb,OAAO,CAAC,QAAD,CAAP;UACAa,YAAY;QACb;MACJ;IACJ;;IAED,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;MACtB,OAAO,IAAIC,OAAJ,CAAaC,GAAG,IAAIC,UAAU,CAACD,GAAD,EAAMF,KAAN,CAA9B,CAAP;IACD;;IAED,eAAeF,YAAf,GAA6B;MAC3B,MAAMC,OAAO,CAAC,IAAD,CAAb;MACApB,KAAK,CAACyB,QAAN,CAAe,CAAf,EAAkBxB,KAAlB,EAAyBE,MAAzB;IACD;EACA;;EAGC,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,uBACE;MAAO,SAAS,EAAC,aAAjB;MAAA,UAAgCE;IAAhC;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH;;GA5CQN,a;;KAAAA,a;AA8CT,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}